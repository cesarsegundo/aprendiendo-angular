import { Directive, ElementRef, HostListener } from '@angular/core';

@Directive({
  selector: '[appImgBroken]'
})
export class ImgBrokenDirective {
  
  // @HostListener: escucha los eventos que el host dispara
  //el host es el elemento donde se ocupa la directiva en este caso la etiqueta img
  @HostListener('error') handleError() {
    const element = this.elHost.nativeElement // captura el elemento HTML
    element.src = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw8QEhEODxAUFQ8PEBASEBAPGA8VEhcQFhYXFxUVFxMYKCggGBslGxMVITUhJTUuLi4uFx8zODMtNygtLi0BCgoKDQ0NFQ0PFSsZFRkrKy0tKys3LS0tKzcrNysrKystLSsrKysrLSsrKy0rKysrKysrNysrKysrLSsrKysrK//AABEIAOkA2AMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABgcBBAUDAv/EAEYQAAEDAgMEBAoFCwMFAAAAAAEAAgMEEQUSIQYHMUETIlFxFBUyQmFigZGh0RYXVJKTCCMkMzZSU1VysbNjgsFDo9Lw8f/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oADAMBAAIRAxEAPwC8UREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERARFi6DKLnV2O0cFxPUwxkcQ97Afde65v08wi9vGEF/6wgkaLnUOO0c9hBUwvJ4Bj2E+7iuggyiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgLF0KpveXvCmnl8T4SS6R7uilmh1c550MURHC2uZ3Kx14lBI9uN61Hh5dBCPCKpvlNYQIoz2SSdvqi57bKCiDanHesXOp6V3C7nU8OX+lv5yT26KZbv91VPRBtTWgTVnlAO1iid6o853rH2WVkgIKbw3cRF5VVWvc7mIGNaPvPzE966/wBSWGWt0tRftzM+Ss5EFNYluIiN3Uta9ruQnYxw+8zKR8VxzBtTgXWDnVFK3jZzqiHKPVdaSPTs0V+rBCCv9h961HiBbBMPB6p3kteQYpD/AKcnb6psey6sAKqd7OwGHmGXEmPZSzM6zjwildyBaOEhPAt1vxuuVum3muzMw3EJLh1mU1S86g+bFI7n2Bx7iguxFgLKAiIgIiICIiAiIgIiICIiAiIgIiwUFe75NsTh9KIIHWqqsOa1w4xwjy5O/UNHpN+S8dzuxAooBW1DP0ypbcB2pihPBvocRqe+3JQyjHj3aFzndalpXOcB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'
    console.log('Algo sucedio');
    
  }
  constructor(private elHost:ElementRef) { }

}
